[
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "Executive summary",
    "section": "",
    "text": "Executive summary"
  },
  {
    "objectID": "country_medium.html",
    "href": "country_medium.html",
    "title": "Country / Medium",
    "section": "",
    "text": "Country / Medium"
  },
  {
    "objectID": "country.html",
    "href": "country.html",
    "title": "Country",
    "section": "",
    "text": "In this section I will try to look at the medium_country data from a level higher - aggregated per country. I would like to see first a high-level intro to the data, see which countries drive the most users and revenue, try to identify a subset on which I can focus the analysis and lastly - try to give an advise to our client by just looking at this level.\nThe source file contains data on 240 in total and e.g. looks like this for Croatia\n\n\nCode\nmedium_country_raw |&gt; \n  filter(country == \"Croatia\") |&gt; \n  arrange(desc(revenue)) |&gt; \n  datatable()\n\n\n\n\n\n\n\nThe data is on country / medium level so I would like to collapse it down to just the country level grouping first and compute some additional high-level metrics.\n\n\nCode\nby_country &lt;- \n  medium_country_raw |&gt; \n  group_by(country) |&gt; \n  summarise(\n    # summable-metrics\n    across(\n      c(users, new_users, sessions, transactions, revenue),\n      sum\n    ),\n    # take medians for the rates, shares, durations\n    across(\n      c(bounce_rate, pages_session, avg_session_duration, ecommerce_conversion_rate),\n      median\n    )\n  ) |&gt; \n  ungroup() |&gt; \n  # calculate new columns\n  mutate(\n    revenue_per_transaction = revenue / transactions,\n    new_users_share = new_users / users\n  )\n\nby_country |&gt; filter(country == \"Croatia\")\n\n\n# A tibble: 1 × 12\n  country users new_users sessions transactions revenue bounce_rate\n  &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;\n1 Croatia 60641     50819    93592         2168 593839.       0.504\n# ℹ 5 more variables: pages_session &lt;dbl&gt;, avg_session_duration &lt;dbl&gt;,\n#   ecommerce_conversion_rate &lt;dbl&gt;, revenue_per_transaction &lt;dbl&gt;,\n#   new_users_share &lt;dbl&gt;\n\n\nAre there countries with very very low volume of transactions or users ?\n\n\nCode\nby_country |&gt; \n  select(users, transactions, revenue) |&gt; \n  map(quantile, probs = seq(0, 1, 0.05))\n\n\n$users\n        0%         5%        10%        15%        20%        25%        30% \n      2.00      74.50     385.00     568.50     974.80    1336.00    1786.10 \n       35%        40%        45%        50%        55%        60%        65% \n   2479.10    3462.40    4153.70    7831.00   11915.15   18281.60   31478.55 \n       70%        75%        80%        85%        90%        95%       100% \n  45452.50   72587.00  121966.20  256002.05  377302.90  824808.15 8390796.00 \n\n$transactions\n       0%        5%       10%       15%       20%       25%       30%       35% \n     0.00      2.00      7.90     11.70     23.80     33.00     42.80     58.65 \n      40%       45%       50%       55%       60%       65%       70%       75% \n    83.20    106.55    168.00    274.25    395.40    642.50   1120.60   1936.00 \n      80%       85%       90%       95%      100% \n  3442.80   6892.75  12443.30  21468.00 293169.00 \n\n$revenue\n          0%           5%          10%          15%          20%          25% \n       0.000     1010.094     3536.412     6083.276    11729.995    18284.208 \n         30%          35%          40%          45%          50%          55% \n   25438.798    34884.987    47421.774    58671.711    78038.093   111281.571 \n         60%          65%          70%          75%          80%          85% \n  156957.122   234950.814   385850.104   701653.123   901895.735  2206571.170 \n         90%          95%         100% \n 3484899.314  5879185.640 83228820.262 \n\n\n\nabout 15% of the countries have less than 500 users - which seems quite low for the whole of 2022\nsetting ~ 20,000 as limit for revenue would cut off the lower 20th percentile of countries - which seems also good (perhaps even too low given that the upper percentiles are in 100,000s of euros)\n\nBased on this quick checks I am inclined to set a very simple rule revenue &gt; 20,000 . I can go back to revise this later if needed - as well as look more into the lower revenue countries to see if there is something to be said for them separately.\nThe removed countries seem to be indeed small countries.\n\n\nCode\nby_country |&gt; filter(revenue &lt; 20000)\n\n\n# A tibble: 63 × 12\n   country             users new_users sessions transactions revenue bounce_rate\n   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt;\n 1 American Samoa        141       133      205            0      0        0.380\n 2 Anguilla              441       363      672           10   7993.       0.317\n 3 Benin                1702      1535     2413            9   2688.       0.544\n 4 Bhutan                309       279      378            7   4890.       0.571\n 5 Botswana             1654      1491     2330           33  14189.       0.400\n 6 British Indian Oce…    14        12       16            0      0        0.661\n 7 Burkina Faso         1216      1109     1755           25  14804.       0.372\n 8 Burundi               769       677     1156           14   7251.       0.533\n 9 Caribbean Netherla…   717       614     1029           18   7652.       0.413\n10 Central African Re…   506       448      928           13  17920.       0.561\n# ℹ 53 more rows\n# ℹ 5 more variables: pages_session &lt;dbl&gt;, avg_session_duration &lt;dbl&gt;,\n#   ecommerce_conversion_rate &lt;dbl&gt;, revenue_per_transaction &lt;dbl&gt;,\n#   new_users_share &lt;dbl&gt;\n\n\n\n\nGoing to try and plot the revenue, transactions, users on a map of the world - just to see how does it look like, where is the volume concentrated etc.\n\n\n211 codes from your data successfully matched countries in the map\n29 codes from your data failed to match with a country code in the map\n32 codes from the map weren't represented in your data\n\n\n\n\n\nI will start with the following simple rule - either revenue more than €20,000 or users or transactions volume b bigger than 500 (i will come back to adjust these in case there is still lots of noise or conversely i am missing some granularity)\n\nby_country &lt;- by_country |&gt; \n  filter(\n    (revenue &gt; 20000) | (users &gt; 500) | (transactions &gt; 500)\n  )\n\n\n\n\nWhich countries drive the most users ?\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = users, n = 30) |&gt; \n  mutate(country = fct_reorder(country, users)) |&gt; \n  ggplot(aes(x = users, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most users ?\",\n    x = \"# Users\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nIt seems that it is similar for new users.\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = new_users, n = 30) |&gt; \n  mutate(country = fct_reorder(country, new_users)) |&gt; \n  ggplot(aes(x = new_users, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most new users ?\",\n    x = \"# New Users\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nAnd I expect the same picture more or less for revenue\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = revenue, n = 30) |&gt; \n  mutate(country = fct_reorder(country, revenue)) |&gt; \n  ggplot(aes(x = revenue, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most revenue ?\",\n    x = \"€ Revenue\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nI noticed something interesting here - Lithuania which was one of the top drivers for (new) users - in terms of revenue dropped significantly. I also have the sense that Australia - which was not even on the top 30 charts in terms of (new) users - jumped straight to the middle when we switched to revenue-view.\nI would like to check this bit more in detail by ranking the countries with respect to these metrics and checking a bit the difference in these ranks.\n\n\nCode\ncountry_ranks &lt;- by_country |&gt; \n  mutate(\n    across(\n      c(users, transactions, revenue),\n      ~ dense_rank(desc(.x)),\n      .names = \"{col}_rank\"\n    )\n  ) |&gt; \n  select(country, ends_with(\"rank\")) |&gt; \n  arrange(transactions_rank)\n\ndatatable(country_ranks)\n\n\n\n\n\n\n\nI would like to see which countries have either:\n\ndifference-in-ranks (users minus revenue rank) bigger than 20 or\nthe ratio of ranks is more than double (users to revenue rank)\n\n\n\nCode\ncountry_ranks |&gt; \n  mutate(\n    ranks_diff = abs(users_rank - revenue_rank),\n    users_to_revenue_rank_ratio = users_rank / revenue_rank\n    ) |&gt; \n  filter(\n    ranks_diff &gt; 20 | users_to_revenue_rank_ratio &gt;= 2\n    ) |&gt; \n  datatable()\n\n\n\n\n\n\n\nIndeed it seems there are some interesting cases here:\n\nLithuania which is the 2nd biggest driver of users - is the 53rd place when it comes to revenue ?! This means that there are tons of users coming from Lithuania to the client’s website but somehow they do not monetise them. This seems odd\nIn addition to Australia - also Ireland and Japan seem to be 2x higher ranked in terms of revenue compared to rank in terms of users. This means that even though they do not bring the highest volumes of users to the website - they still manage to monetise them quite well - something to be investigated perhaps later (e.g. check their channel mix and see if it is any different than the others)\n\nOnce more i want to make sure Lithuania is strange and compare against e.g.\n\n\n# A tibble: 2 × 12\n  country     users new_users sessions transactions   revenue bounce_rate\n  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 Germany   1889501   1687855  2845711        48819 12906843.       0.560\n2 Lithuania 2773044   2745659  2867737         3440   786699.       0.472\n# ℹ 5 more variables: pages_session &lt;dbl&gt;, avg_session_duration &lt;dbl&gt;,\n#   ecommerce_conversion_rate &lt;dbl&gt;, revenue_per_transaction &lt;dbl&gt;,\n#   new_users_share &lt;dbl&gt;\n\n\nComparing the ratio of users vs. ratio of revenue for Lithuania vs. Germany\n\n\nCode\ncompare_users &lt;- by_country |&gt; \n  filter(country %in% c(\"Lithuania\", \"Germany\")) |&gt; \n  select(country, users) |&gt; \n  deframe()\n\ncompare_revenue &lt;- by_country |&gt; \n  filter(country %in% c(\"Lithuania\", \"Germany\")) |&gt; \n  select(country, revenue) |&gt; \n  deframe()\n\nc(\n  users = compare_users,\n  users_ratio = compare_users[\"Lithuania\"] / compare_users[\"Germany\"],\n  \n  revenue = compare_revenue,\n  revenue_ratio = compare_revenue[\"Lithuania\"] / compare_revenue[\"Germany\"]\n) |&gt; \n  prettyNum(scientific = F)\n\n\n          users.Germany         users.Lithuania   users_ratio.Lithuania \n              \"1889501\"               \"2773044\"              \"1.467607\" \n        revenue.Germany       revenue.Lithuania revenue_ratio.Lithuania \n             \"12906843\"              \"786699.1\"            \"0.06095209\" \n\n\nOk this is confirmation enough i guess - Lithuania is ~140% bigger than Germany in terms of bringing users to the client’s website - however it is strangely 6% of the revenue that Germany brings !?\n\n\n\n\n\n# A tibble: 1 × 1\n  n_countries\n        &lt;int&gt;\n1         206\n\n\n\n\n\nI would like to try out the following\n\nwe have the data on how many users from a country were customers with our client in 2022\nwe can get the data on countries population as well as proportion of population from each country that participates in tourism. these could be our ~ theoretical upper bound on the number of customers from a country i.e. imagining that every person from a country has purchased with the client - then we should see this number of users in the data\nthe ratio of the first point to the second - would give us another view on “market penetration” - in the sense that we can say 1 in N people from Country-A has purchased with the client in 2022.\nto tie this together - comparing these rations between comparable countries could give us an idea where we could boost our marketing efforts and increase the market presence.\n\nProportion of population that participated in tourism\nMore concretely:\n\n\nCode\nlibrary(\"openintro\")\nlibrary(\"eurostat\")\n\n# total population of countries\nworld_pop &lt;- openintro::world_pop\n\ncountry_population &lt;-\n  world_pop |&gt; \n  as_tibble() |&gt; \n  select(country, year_2020) |&gt; \n  rename(population = year_2020)\n\n# prorortion of population that participates in tourism\ncountry_tourists &lt;- \n  get_eurostat(\"tour_dem_totot\") |&gt;\n  label_eurostat() |&gt; \n  filter(\n    duration == \"1 night or over\",\n    c_dest == \"All countries of the world\",\n    unit == \"Number\",\n    time == ymd(20210101)\n  )|&gt; \n  select(geo, time, values) |&gt;\n  rename(country = geo, tourists = values)\n\n# transactions ~ # of customers from country for our client\ncountry_customers &lt;- \n  by_country |&gt; \n  filter(country != \"(not set)\") |&gt; \n  slice_max(order_by = transactions, n = 10) |&gt; \n  select(country, transactions, revenue, revenue_per_transaction) |&gt; \n  rename(customers = transactions)\n\n# stick it all together\ncountry_penetration &lt;- \n  country_customers |&gt; \n  left_join(country_population, join_by(country)) |&gt; \n  left_join(country_tourists, join_by(country)) |&gt; \n  mutate(\n    customers_share = customers / tourists,\n    one_in_N_tourists_has_transacted = floor(1 / customers_share),\n    customers_share = percent_format(accuracy = 0.001)(customers_share)\n  ) |&gt; \n  arrange(desc(customers_share))\n\ndatatable(country_penetration)\n\n\n\n\n\n\n\nNot all countries got matched - the tourism data is only for EU but that would do.\n\n\nCode\ncountry_penetration |&gt; \n  filter( !is.na(one_in_N_tourists_has_transacted) ) |&gt; \n  select(\n    country,\n    customers,\n    tourists,\n    one_in_N_tourists_has_transacted,\n    customers_share,\n    revenue,\n    revenue_per_transaction\n  ) |&gt; \n  datatable()\n\n\n\n\n\n\n\nIf my logic and flow are correct - the situation is as following:\n\n1 in 962 Germans was a customer with our client in 2022\n1 in 632 French was a customer with our client in 2022\n\nAssuming these 2 are comparable markets, where our client has similar marketing initiatives, efforts, spend etc.\nThe argument would be - If we could get the same market penetration in Germany as we have in France - for instance by using the same “marketing playbook” they did in France. Then they could potentially increase their market penetration in Germany from 0.104% -&gt; 0.158% .\nThis would mean 7.4251454^{4}\n\n\nCode\n# numbers from table above\ncurrent_revenue_germany &lt;- 12906843\ncurrent_customers_germany &lt;- 48819\ncurrent_revenue_per_customer_germany &lt;- 264\n\ntourists_germany &lt;- 46994591\n\n# the current and \"hypothetical\" customer share\n# the client could achieve\ncurrent_customer_share_germany &lt;- 0.00104\npotential_customer_share_germany &lt;- 0.00158\n\n# potential customers if increase happens\npotential_customers_germany &lt;- floor(\n  potential_customer_share_germany * tourists_germany\n)\n# potential revenue that follows from above\npotential_revenue_germany &lt;- (\n  current_revenue_per_customer_germany * potential_customers_germany\n)\n# extra cash and uplift in revenue in Germany\nc(\n  increase_abs = comma_format(suffix = \"€\")(\n    potential_revenue_germany - current_revenue_germany\n  ),\n  uplift = percent_format(accuracy = 0.01)(\n    (potential_revenue_germany - current_revenue_germany) / current_revenue_germany\n  )\n)\n\n\nincrease_abs       uplift \n\"6,695,421€\"     \"51.87%\""
  },
  {
    "objectID": "country.html#revenue-map",
    "href": "country.html#revenue-map",
    "title": "Country",
    "section": "",
    "text": "Going to try and plot the revenue, transactions, users on a map of the world - just to see how does it look like, where is the volume concentrated etc.\n\n\n211 codes from your data successfully matched countries in the map\n29 codes from your data failed to match with a country code in the map\n32 codes from the map weren't represented in your data\n\n\n\n\n\nI will start with the following simple rule - either revenue more than €20,000 or users or transactions volume b bigger than 500 (i will come back to adjust these in case there is still lots of noise or conversely i am missing some granularity)\n\nby_country &lt;- by_country |&gt; \n  filter(\n    (revenue &gt; 20000) | (users &gt; 500) | (transactions &gt; 500)\n  )"
  },
  {
    "objectID": "country.html#which-countries-drive-the-most",
    "href": "country.html#which-countries-drive-the-most",
    "title": "Country",
    "section": "",
    "text": "Which countries drive the most users ?\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = users, n = 30) |&gt; \n  mutate(country = fct_reorder(country, users)) |&gt; \n  ggplot(aes(x = users, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most users ?\",\n    x = \"# Users\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nIt seems that it is similar for new users.\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = new_users, n = 30) |&gt; \n  mutate(country = fct_reorder(country, new_users)) |&gt; \n  ggplot(aes(x = new_users, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most new users ?\",\n    x = \"# New Users\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nAnd I expect the same picture more or less for revenue\n\n\nCode\nby_country |&gt; \n  slice_max(order_by = revenue, n = 30) |&gt; \n  mutate(country = fct_reorder(country, revenue)) |&gt; \n  ggplot(aes(x = revenue, y = country)) +\n  geom_col() +\n  scale_x_continuous(labels = comma_format(), expand = c(0, 0.3)) +\n  labs(\n    title = \"Which countries drive the most revenue ?\",\n    x = \"€ Revenue\",\n    y = NULL\n  ) +\n  theme_minimal()\n\n\n\n\n\nI noticed something interesting here - Lithuania which was one of the top drivers for (new) users - in terms of revenue dropped significantly. I also have the sense that Australia - which was not even on the top 30 charts in terms of (new) users - jumped straight to the middle when we switched to revenue-view.\nI would like to check this bit more in detail by ranking the countries with respect to these metrics and checking a bit the difference in these ranks.\n\n\nCode\ncountry_ranks &lt;- by_country |&gt; \n  mutate(\n    across(\n      c(users, transactions, revenue),\n      ~ dense_rank(desc(.x)),\n      .names = \"{col}_rank\"\n    )\n  ) |&gt; \n  select(country, ends_with(\"rank\")) |&gt; \n  arrange(transactions_rank)\n\ndatatable(country_ranks)\n\n\n\n\n\n\n\nI would like to see which countries have either:\n\ndifference-in-ranks (users minus revenue rank) bigger than 20 or\nthe ratio of ranks is more than double (users to revenue rank)\n\n\n\nCode\ncountry_ranks |&gt; \n  mutate(\n    ranks_diff = abs(users_rank - revenue_rank),\n    users_to_revenue_rank_ratio = users_rank / revenue_rank\n    ) |&gt; \n  filter(\n    ranks_diff &gt; 20 | users_to_revenue_rank_ratio &gt;= 2\n    ) |&gt; \n  datatable()\n\n\n\n\n\n\n\nIndeed it seems there are some interesting cases here:\n\nLithuania which is the 2nd biggest driver of users - is the 53rd place when it comes to revenue ?! This means that there are tons of users coming from Lithuania to the client’s website but somehow they do not monetise them. This seems odd\nIn addition to Australia - also Ireland and Japan seem to be 2x higher ranked in terms of revenue compared to rank in terms of users. This means that even though they do not bring the highest volumes of users to the website - they still manage to monetise them quite well - something to be investigated perhaps later (e.g. check their channel mix and see if it is any different than the others)\n\nOnce more i want to make sure Lithuania is strange and compare against e.g.\n\n\n# A tibble: 2 × 12\n  country     users new_users sessions transactions   revenue bounce_rate\n  &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;\n1 Germany   1889501   1687855  2845711        48819 12906843.       0.560\n2 Lithuania 2773044   2745659  2867737         3440   786699.       0.472\n# ℹ 5 more variables: pages_session &lt;dbl&gt;, avg_session_duration &lt;dbl&gt;,\n#   ecommerce_conversion_rate &lt;dbl&gt;, revenue_per_transaction &lt;dbl&gt;,\n#   new_users_share &lt;dbl&gt;\n\n\nComparing the ratio of users vs. ratio of revenue for Lithuania vs. Germany\n\n\nCode\ncompare_users &lt;- by_country |&gt; \n  filter(country %in% c(\"Lithuania\", \"Germany\")) |&gt; \n  select(country, users) |&gt; \n  deframe()\n\ncompare_revenue &lt;- by_country |&gt; \n  filter(country %in% c(\"Lithuania\", \"Germany\")) |&gt; \n  select(country, revenue) |&gt; \n  deframe()\n\nc(\n  users = compare_users,\n  users_ratio = compare_users[\"Lithuania\"] / compare_users[\"Germany\"],\n  \n  revenue = compare_revenue,\n  revenue_ratio = compare_revenue[\"Lithuania\"] / compare_revenue[\"Germany\"]\n) |&gt; \n  prettyNum(scientific = F)\n\n\n          users.Germany         users.Lithuania   users_ratio.Lithuania \n              \"1889501\"               \"2773044\"              \"1.467607\" \n        revenue.Germany       revenue.Lithuania revenue_ratio.Lithuania \n             \"12906843\"              \"786699.1\"            \"0.06095209\" \n\n\nOk this is confirmation enough i guess - Lithuania is ~140% bigger than Germany in terms of bringing users to the client’s website - however it is strangely 6% of the revenue that Germany brings !?"
  },
  {
    "objectID": "country.html#final-overview-of-selected-countries",
    "href": "country.html#final-overview-of-selected-countries",
    "title": "Country",
    "section": "",
    "text": "# A tibble: 1 × 1\n  n_countries\n        &lt;int&gt;\n1         206"
  },
  {
    "objectID": "country.html#market-penetration",
    "href": "country.html#market-penetration",
    "title": "Country",
    "section": "",
    "text": "I would like to try out the following\n\nwe have the data on how many users from a country were customers with our client in 2022\nwe can get the data on countries population as well as proportion of population from each country that participates in tourism. these could be our ~ theoretical upper bound on the number of customers from a country i.e. imagining that every person from a country has purchased with the client - then we should see this number of users in the data\nthe ratio of the first point to the second - would give us another view on “market penetration” - in the sense that we can say 1 in N people from Country-A has purchased with the client in 2022.\nto tie this together - comparing these rations between comparable countries could give us an idea where we could boost our marketing efforts and increase the market presence.\n\nProportion of population that participated in tourism\nMore concretely:\n\n\nCode\nlibrary(\"openintro\")\nlibrary(\"eurostat\")\n\n# total population of countries\nworld_pop &lt;- openintro::world_pop\n\ncountry_population &lt;-\n  world_pop |&gt; \n  as_tibble() |&gt; \n  select(country, year_2020) |&gt; \n  rename(population = year_2020)\n\n# prorortion of population that participates in tourism\ncountry_tourists &lt;- \n  get_eurostat(\"tour_dem_totot\") |&gt;\n  label_eurostat() |&gt; \n  filter(\n    duration == \"1 night or over\",\n    c_dest == \"All countries of the world\",\n    unit == \"Number\",\n    time == ymd(20210101)\n  )|&gt; \n  select(geo, time, values) |&gt;\n  rename(country = geo, tourists = values)\n\n# transactions ~ # of customers from country for our client\ncountry_customers &lt;- \n  by_country |&gt; \n  filter(country != \"(not set)\") |&gt; \n  slice_max(order_by = transactions, n = 10) |&gt; \n  select(country, transactions, revenue, revenue_per_transaction) |&gt; \n  rename(customers = transactions)\n\n# stick it all together\ncountry_penetration &lt;- \n  country_customers |&gt; \n  left_join(country_population, join_by(country)) |&gt; \n  left_join(country_tourists, join_by(country)) |&gt; \n  mutate(\n    customers_share = customers / tourists,\n    one_in_N_tourists_has_transacted = floor(1 / customers_share),\n    customers_share = percent_format(accuracy = 0.001)(customers_share)\n  ) |&gt; \n  arrange(desc(customers_share))\n\ndatatable(country_penetration)\n\n\n\n\n\n\n\nNot all countries got matched - the tourism data is only for EU but that would do.\n\n\nCode\ncountry_penetration |&gt; \n  filter( !is.na(one_in_N_tourists_has_transacted) ) |&gt; \n  select(\n    country,\n    customers,\n    tourists,\n    one_in_N_tourists_has_transacted,\n    customers_share,\n    revenue,\n    revenue_per_transaction\n  ) |&gt; \n  datatable()\n\n\n\n\n\n\n\nIf my logic and flow are correct - the situation is as following:\n\n1 in 962 Germans was a customer with our client in 2022\n1 in 632 French was a customer with our client in 2022\n\nAssuming these 2 are comparable markets, where our client has similar marketing initiatives, efforts, spend etc.\nThe argument would be - If we could get the same market penetration in Germany as we have in France - for instance by using the same “marketing playbook” they did in France. Then they could potentially increase their market penetration in Germany from 0.104% -&gt; 0.158% .\nThis would mean 7.4251454^{4}\n\n\nCode\n# numbers from table above\ncurrent_revenue_germany &lt;- 12906843\ncurrent_customers_germany &lt;- 48819\ncurrent_revenue_per_customer_germany &lt;- 264\n\ntourists_germany &lt;- 46994591\n\n# the current and \"hypothetical\" customer share\n# the client could achieve\ncurrent_customer_share_germany &lt;- 0.00104\npotential_customer_share_germany &lt;- 0.00158\n\n# potential customers if increase happens\npotential_customers_germany &lt;- floor(\n  potential_customer_share_germany * tourists_germany\n)\n# potential revenue that follows from above\npotential_revenue_germany &lt;- (\n  current_revenue_per_customer_germany * potential_customers_germany\n)\n# extra cash and uplift in revenue in Germany\nc(\n  increase_abs = comma_format(suffix = \"€\")(\n    potential_revenue_germany - current_revenue_germany\n  ),\n  uplift = percent_format(accuracy = 0.01)(\n    (potential_revenue_germany - current_revenue_germany) / current_revenue_germany\n  )\n)\n\n\nincrease_abs       uplift \n\"6,695,421€\"     \"51.87%\""
  },
  {
    "objectID": "conversion_paths.html",
    "href": "conversion_paths.html",
    "title": "Conversion paths",
    "section": "",
    "text": "Conversion paths"
  },
  {
    "objectID": "other_ideas.html",
    "href": "other_ideas.html",
    "title": "Other ideas",
    "section": "",
    "text": "Other ideas"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introduction",
    "section": "",
    "text": "Hello and welcome to this project where I tried to explain and nicely present my analysis, thoughts, comments … around the interview task that I got from Ivan, which we will discuss in our next chat.\n\n\n\n\n\n\nTask overview\n\n\n\nHi, can you provide me with an in depth analysis of our marketing efforts, based on the data provided in the attachment.\nWe’d like to focus our activities on markets which we can easily scale while keeping long term profitability.\nOverview about our imaginary client:\nClient is a global passenger transfer company which focuses on short distance transport. Their customers are mostly people travelling for holidays with family, but around 15% of business also falls in the business travel category.\nDue to recent market changes they are looking into optimising their marketing efforts in order to overtake higher market share in the future; currently their main markets are US, UK, Argentina, and South Korea where they are market leaders with 30%+ market share\nTheir activities are in some markets mostly offline, while in others are just online.\n\n\nThe main points are:\n\nscale markets easily\nwhile keeping long term profitability\nin order to gain higher market share\n\n\n\nWhile one of the main points is around keeping profitability no data on marketing spend was provided which is essential in order to determine this.\nNevertheless, the data provided contained many interesting insights already - and besides that, I think it should not be too hard to also add this aspect to the existing analysis."
  },
  {
    "objectID": "index.html#callout",
    "href": "index.html#callout",
    "title": "Introduction",
    "section": "",
    "text": "While one of the main points is around keeping profitability no data on marketing spend was provided which is essential in order to determine this.\nNevertheless, the data provided contained many interesting insights already - and besides that, I think it should not be too hard to also add this aspect to the existing analysis."
  }
]